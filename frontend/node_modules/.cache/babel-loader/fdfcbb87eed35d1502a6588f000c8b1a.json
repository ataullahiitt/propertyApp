{"ast":null,"code":"import _slicedToArray from\"/home/ataullah/Explore/docker/node-project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/React.createContext({token:'',isLoggedIn:false,userData:null,login:function login(token){},logout:function logout(){}});export var AuthContextProvider=function AuthContextProvider(props){var initialToken=localStorage.getItem('token');var initialUserData=localStorage.getItem('userData');var _useState=useState(initialToken),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState(JSON.parse(initialUserData)),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];var userIsLoggedIn=!!token;var loginHandler=function loginHandler(userData){var token=userData.token,user=userData.user;setToken(token);setUserData(user);localStorage.setItem('token',token);localStorage.setItem('userData',JSON.stringify(user));};var logoutHandler=function logoutHandler(){setToken(null);setUserData(null);localStorage.removeItem('token');localStorage.removeItem('userData');};var contextValue={token:token,userData:userData,isLoggedIn:userIsLoggedIn,login:loginHandler,logout:logoutHandler};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:contextValue,children:props.children});};export default AuthContext;","map":{"version":3,"sources":["/home/ataullah/Explore/docker/node-project/frontend/src/store/auth-context.js"],"names":["React","useState","AuthContext","createContext","token","isLoggedIn","userData","login","logout","AuthContextProvider","props","initialToken","localStorage","getItem","initialUserData","setToken","JSON","parse","setUserData","userIsLoggedIn","loginHandler","user","setItem","stringify","logoutHandler","removeItem","contextValue","children"],"mappings":"yIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,2CAEA,GAAMC,CAAAA,WAAW,cAAGF,KAAK,CAACG,aAAN,CAAoB,CACpCC,KAAK,CAAE,EAD6B,CAEpCC,UAAU,CAAE,KAFwB,CAGpCC,QAAQ,CAAE,IAH0B,CAIpCC,KAAK,CAAE,eAACH,KAAD,CAAW,CAAG,CAJe,CAKpCI,MAAM,CAAE,iBAAM,CAAG,CALmB,CAApB,CAApB,CAQA,MAAO,IAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,KAAD,CAAW,CAE1C,GAAMC,CAAAA,YAAY,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAArB,CACA,GAAMC,CAAAA,eAAe,CAAGF,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAxB,CAEA,cAA0BZ,QAAQ,CAACU,YAAD,CAAlC,wCAAOP,KAAP,eAAcW,QAAd,eACA,eAAgCd,QAAQ,CAACe,IAAI,CAACC,KAAL,CAAWH,eAAX,CAAD,CAAxC,yCAAOR,QAAP,eAAiBY,WAAjB,eACA,GAAMC,CAAAA,cAAc,CAAG,CAAC,CAACf,KAAzB,CAEA,GAAMgB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACd,QAAD,CAAc,CAE/B,GAAQF,CAAAA,KAAR,CAAwBE,QAAxB,CAAQF,KAAR,CAAeiB,IAAf,CAAwBf,QAAxB,CAAee,IAAf,CACAN,QAAQ,CAACX,KAAD,CAAR,CACAc,WAAW,CAACG,IAAD,CAAX,CAEAT,YAAY,CAACU,OAAb,CAAqB,OAArB,CAA8BlB,KAA9B,EACAQ,YAAY,CAACU,OAAb,CAAqB,UAArB,CAAiCN,IAAI,CAACO,SAAL,CAAeF,IAAf,CAAjC,EACH,CARD,CASA,GAAMG,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxBT,QAAQ,CAAC,IAAD,CAAR,CACAG,WAAW,CAAC,IAAD,CAAX,CACAN,YAAY,CAACa,UAAb,CAAwB,OAAxB,EACAb,YAAY,CAACa,UAAb,CAAwB,UAAxB,EACH,CALD,CAOA,GAAMC,CAAAA,YAAY,CAAG,CACjBtB,KAAK,CAAEA,KADU,CAEjBE,QAAQ,CAAEA,QAFO,CAGjBD,UAAU,CAAEc,cAHK,CAIjBZ,KAAK,CAAEa,YAJU,CAKjBZ,MAAM,CAAEgB,aALS,CAArB,CAOA,mBAAO,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAEE,YAA7B,UAA4ChB,KAAK,CAACiB,QAAlD,EAAP,CAEH,CAlCM,CAoCP,cAAezB,CAAAA,WAAf","sourcesContent":["import React, { useState } from 'react';\n\nconst AuthContext = React.createContext({\n    token: '',\n    isLoggedIn: false,\n    userData: null,\n    login: (token) => { },\n    logout: () => { }\n});\n\nexport const AuthContextProvider = (props) => {\n\n    const initialToken = localStorage.getItem('token');\n    const initialUserData = localStorage.getItem('userData');\n\n    const [token, setToken] = useState(initialToken);\n    const [userData, setUserData] = useState(JSON.parse(initialUserData));\n    const userIsLoggedIn = !!token;\n\n    const loginHandler = (userData) => {\n\n        const { token, user } = userData;\n        setToken(token);\n        setUserData(user);\n\n        localStorage.setItem('token', token);\n        localStorage.setItem('userData', JSON.stringify(user));\n    }\n    const logoutHandler = () => {\n        setToken(null);\n        setUserData(null)\n        localStorage.removeItem('token');\n        localStorage.removeItem('userData');\n    }\n\n    const contextValue = {\n        token: token,\n        userData: userData,\n        isLoggedIn: userIsLoggedIn,\n        login: loginHandler,\n        logout: logoutHandler\n    }\n    return <AuthContext.Provider value={contextValue}>{props.children}</AuthContext.Provider>\n\n}\n\nexport default AuthContext;\n"]},"metadata":{},"sourceType":"module"}