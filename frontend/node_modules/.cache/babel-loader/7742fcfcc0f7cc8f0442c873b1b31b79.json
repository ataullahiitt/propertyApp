{"ast":null,"code":"var _jsxFileName = \"/home/ataullah/Explore/docker/node-project/client/src/pages/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useForm } from \"react-hook-form\";\nimport { APIURL } from '../constants/apiConstants';\nimport { ButtonSpinner } from '../components/UI/Loader';\nimport AuthContext from '../store/auth-context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [isSending, setIssending] = useState(false);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const authCtx = useContext(AuthContext);\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      isDirty,\n      isValid\n    }\n  } = useForm({\n    mode: 'onChange',\n    defaultValues: {\n      username: '',\n      password: ''\n    }\n  });\n\n  const onSubmit = data => {\n    setIssending(true);\n    axios.post(APIURL.LOGIN, data).then(response => {\n      setIssending(false);\n      authCtx.login(response.data);\n      navigate('/transaction');\n    }).catch(error => {\n      if (error.response.status === 401) {\n        setError('Invalid Credentials');\n      } else {\n        setError('Something went wrong');\n      }\n\n      setIssending(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-5 h-100\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row d-flex justify-content-center align-items-center h-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-8 col-lg-6 col-xl-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card shadow-2-strong\",\n          style: {\n            borderRadius: '1rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit(onSubmit),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body p-5 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"mb-5\",\n                children: \"Sign in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 33\n              }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-danger\",\n                role: \"alert\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-outline mb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  placeholder: \"Email\",\n                  ...register(\"username\", {\n                    required: true,\n                    pattern: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i\n                  }),\n                  type: \"email\",\n                  id: \"typeEmailX-2\",\n                  className: \"form-control form-control-lg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-outline mb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  placeholder: \"Password\",\n                  ...register(\"password\", {\n                    required: true,\n                    minLength: 5\n                  }),\n                  type: \"password\",\n                  id: \"typePasswordX-2\",\n                  className: \"form-control form-control-lg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check d-flex justify-content-start mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-check-input\",\n                  type: \"checkbox\",\n                  value: \"\",\n                  id: \"form1Example3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-check-label\",\n                  htmlFor: \"form1Example3\",\n                  children: \" Remember password \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                disabled: !isDirty || !isValid || isSending,\n                type: \"submit\",\n                children: [!isSending && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: \"Login\"\n                }, void 0, false), isSending && /*#__PURE__*/_jsxDEV(ButtonSpinner, {\n                  children: \"Logging...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 51\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"ZN0O0hcRtM0M4oSWSORBw8Ja24o=\", false, function () {\n  return [useNavigate, useForm];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/ataullah/Explore/docker/node-project/client/src/pages/Login.jsx"],"names":["useState","useContext","useNavigate","axios","useForm","APIURL","ButtonSpinner","AuthContext","Login","isSending","setIssending","error","setError","navigate","authCtx","register","handleSubmit","formState","isDirty","isValid","mode","defaultValues","username","password","onSubmit","data","post","LOGIN","then","response","login","catch","status","borderRadius","required","pattern","minLength"],"mappings":"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","sourcesContent":["import { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useForm } from \"react-hook-form\";\nimport { APIURL } from '../constants/apiConstants';\nimport { ButtonSpinner } from '../components/UI/Loader';\nimport AuthContext from '../store/auth-context';\n\nconst Login = () => {\n\n    const [isSending, setIssending] = useState(false);\n    const [error, setError] = useState(null);\n    const navigate = useNavigate();\n    const authCtx = useContext(AuthContext);\n\n    const { register, handleSubmit, formState: { isDirty, isValid } } = useForm({\n        mode: 'onChange',\n        defaultValues: {\n            username: '',\n            password: ''\n        }\n    });\n\n    const onSubmit = (data) => {\n        setIssending(true);\n        axios.post(APIURL.LOGIN, data)\n            .then((response) => {\n                setIssending(false);\n                authCtx.login(response.data);\n                navigate('/transaction');\n            }).catch((error) => {\n                if (error.response.status === 401) {\n                    setError('Invalid Credentials');\n                } else {\n                    setError('Something went wrong');\n                }\n                setIssending(false);\n            });\n    }\n\n    return (\n\n        <div className=\"container py-5 h-100\">\n            <div className=\"row d-flex justify-content-center align-items-center h-100\">\n                <div className=\"col-12 col-md-8 col-lg-6 col-xl-5\">\n                    <div className=\"card shadow-2-strong\" style={{ borderRadius: '1rem' }}>\n\n                        <form onSubmit={handleSubmit(onSubmit)}>\n                            <div className=\"card-body p-5 text-center\">\n\n                                <h3 className=\"mb-5\">Sign in</h3>\n                                {error &&\n                                    <div className=\"alert alert-danger\" role=\"alert\">\n                                        {error}\n                                    </div>\n                                }\n                                <div className=\"form-outline mb-4\">\n                                    <input placeholder=\"Email\"\n                                        {...register(\"username\", { required: true, pattern: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i })}\n\n                                        type=\"email\"\n                                        id=\"typeEmailX-2\"\n                                        className=\"form-control form-control-lg\" />\n\n                                </div>\n\n                                <div className=\"form-outline mb-4\">\n                                    <input placeholder=\"Password\"\n                                        {...register(\"password\", { required: true, minLength: 5 })}\n                                        type=\"password\"\n                                        id=\"typePasswordX-2\"\n                                        className=\"form-control form-control-lg\" />\n                                </div>\n                                <div className=\"form-check d-flex justify-content-start mb-4\">\n                                    <input\n                                        className=\"form-check-input\"\n                                        type=\"checkbox\"\n                                        value=\"\"\n                                        id=\"form1Example3\"\n                                    />\n                                    <label className=\"form-check-label\" htmlFor=\"form1Example3\"> Remember password </label>\n                                </div>\n                                <button\n                                    className=\"btn btn-primary\"\n                                    disabled={!isDirty || !isValid || isSending}\n                                    type=\"submit\">\n                                    {!isSending && <>Login</>}\n                                    {isSending && <ButtonSpinner>Logging...</ButtonSpinner>}\n                                </button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}